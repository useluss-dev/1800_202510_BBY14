import"./index-vPvsWSrS.js";import{o as f}from"./userLoggedIn-BiC4FiBi.js";const d=document.forms.addLandlord,c=new URLSearchParams(window.location.search),r={identifierExists:"text-grey-500 text-sm",noIdentifierExists:"text-red-500 text-lg"};function u(...t){const i=document.getElementById("invalidName").classList,l=document.getElementById("invalidFacebook").classList,s=document.getElementById("invalidEmail").classList;[i,l,s].forEach(e=>{e.add("hidden")}),t.forEach(e=>{e=="firstName"||e=="lastName"?i.remove("hidden"):e=="facebookLink"?l.remove("hidden"):e.startsWith("email")&&s.remove("hidden")})}function h(t){const i=document.getElementById("noIdentifierError");t?(i.classList.add(...r.identifierExists.split(" ")),i.classList.remove(...r.noIdentifierExists.split(" "))):(i.classList.add(...r.noIdentifierExists.split(" ")),i.classList.remove(...r.identifierExists.split(" ")))}function E(){for(const[t,i]of c)(t=="firstName"||t=="lastName"||t=="facebookLink"||t=="email")&&(d.elements[t].value=i)}f(t=>{E(),d.addEventListener("submit",i=>{i.preventDefault();const l=new FormData(d),s=[];let e=!1;for(const[a,o]of l){let n=!0,m=!0;a=="firstName"||a=="lastName"?(n=o.match(/^[a-zA-Z-]+$/),m=!1):a=="facebookLink"?(n=o.match(/^(https?:\/\/)?(www\.)?facebook\.com\/marketplace\/profile\/\d+\/?$/),e||(e=o.length>0)):a=="email"&&(n=o.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/),e||(e=o.length>0)),(!n&&!m||!n&&m&&o.length>0)&&s.push(a)}u(...s),h(e),s.length==0&&e&&d.submit()})},()=>{window.location.href="/login"});
